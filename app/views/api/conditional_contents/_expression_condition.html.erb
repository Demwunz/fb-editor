<turbo-frame id="conditional_<%= conditional_index %>_expression_<%= expression_index %>" data-expression-target="condition">
  <% if expression.component.present? && expression.component_supported? %>
    <div class="expression__condition" data-controller="expression-condition" data-expression-condition-matches-value="<%= expression.answered_operator_values.to_json %>">
        <%= f.select :operators, expression.operators,
          {
            include_blank: false,
            selected: expression.operator
          },
          {
            class: "govuk-select expression__operator #{ expression.errors[:operator].any? ? 'govuk-select--error' : '' }",
            data: {
              expression_condition_target: 'operator',
              action: "expression-condition#toggleAnswer"
            },
            name: expression.name_attr(
              conditional_index: conditional_index,
              expression_index: expression_index,
              attribute: 'operator',
            ),
            id: expression.id_attr(
              conditional_index: conditional_index,
              expression_index: expression_index,
              attribute: 'operator',

            )
          }
        %>

      <%= f.select :answers, expression.answers,
        {
          include_blank: false,
          selected:  expression.field
        },
        {
          class: "govuk-select expression__answer #{ expression.errors[:answer].any? ? 'govuk-select--error' : '' }",
          'data-expression-condition-target': 'answer',
          name: expression.name_attr(
            conditional_index: conditional_index,
            expression_index: expression_index,
            attribute: 'field',

          ),
          id: expression.id_attr(
            conditional_index: conditional_index,
            expression_index: expression_index,
            attribute: 'field',

          )
        }

      %>

    </div>
  <% end %>
</turbo-frame>
